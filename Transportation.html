<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Transportation</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      margin: 0;
      padding: 0;
    }

    header {
      background-color: rosybrown;
      color: white;
      padding: 10px 20px;
      text-align: center;
    }

    #map-container {
      width: 100%;
      height: 500px;
      margin-top: 20px;
    }

    .search-bar {
      display: flex;
      justify-content: center;
      margin: 20px;
    }

    .search-bar input[type="text"] {
      width: 60%;
      padding: 10px;
      font-size: 16px;
      border: 1px solid #ccc;
      border-radius: 4px 0 0 4px;
    }

    .search-bar button {
      padding: 10px 20px;
      font-size: 16px;
      background-color: lightpink;
      color: white;
      border: 0;
      border-radius: 0 4px 4px 0;
      cursor: pointer;
    }

    .search-bar button:hover {
      background-color: green;
    }

    footer {
      text-align: center;
      padding: 5px;
      background-color: rosybrown;
      color: white;
      position: fixed;
      bottom: 0;
      width: 100%;
    }
  </style>
  <link rel="stylesheet" href="https://unpkg.com/leaflet@1.9.3/dist/leaflet.css" />
</head>
<body>
  <header>
    <h1>Transportation</h1>
    <p>Explore locations and plan your routes!</p>
  </header>

  <!-- Search Bar -->
  <div class="search-bar">
    <input type="text" id="location-input" placeholder="Enter a location">
    <button onclick="searchLocation()">Search</button>
  </div>

  <!-- OpenStreetMap Container -->
  <div id="map-container"></div>

  <footer>
    <p>Smart City Solutions © 2024</p>
  </footer>

  <!-- Leaflet.js -->
  <script src="https://unpkg.com/leaflet@1.9.3/dist/leaflet.js"></script>
  <script>
    let map;
    let marker;

    function initMap() {
      // Initialize the map centered at a default location
      map = L.map('map-container').setView([37.7749, -122.4194], 10); // Default: San Francisco

      // Add OpenStreetMap tiles
      L.tileLayer('https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
        attribution: 'Map data © <a href="https://www.openstreetmap.org/">OpenStreetMap</a> contributors'
      }).addTo(map);
    }

    function searchLocation() {
      const location = document.getElementById('location-input').value;

      if (location) {
        fetch(`https://nominatim.openstreetmap.org/search?format=json&q=${location}`)
          .then(response => response.json())
          .then(data => {
            if (data.length > 0) {
              const lat = data[0].lat;
              const lon = data[0].lon;

              // Center the map and add a marker
              map.setView([lat, lon], 13);

              if (marker) {
                map.removeLayer(marker);
              }

              marker = L.marker([lat, lon]).addTo(map)
                .bindPopup(`<b>${data[0].display_name}</b>`).openPopup();
            } else {
              alert('Location not found!');
            }
          })
          .catch(error => {
            console.error('Error fetching location:', error);
            alert('An error occurred while searching for the location.');
          });
      } else {
        alert('Please enter a location!');
      }
    }

    // Initialize the map on page load
    document.addEventListener('DOMContentLoaded', initMap);
  </script>
</body>
</html>
